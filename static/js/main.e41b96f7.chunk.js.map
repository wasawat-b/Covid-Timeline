{"version":3,"sources":["components/card.module.css","App.module.css","popUpShow.tsx/overlay.module.css","components/Timeline.module.css","components/detail/TimelineDetail.module.css","store/hook.ts","store/list-slice.ts","components/NewForm.tsx","components/detail/DeleteButton.tsx","components/detail/TimelineDetail.tsx","components/detail/TimelineList.tsx","components/Timeline.tsx","popUpShow.tsx/overlay.tsx","components/card.tsx","App.tsx","store/list-action.tsx","store/store.ts","index.tsx","components/NewForm.module.css"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","listSlice","createSlice","name","initialState","items","id","gender","age","job","detail","date","description","change","showSuccess","reducers","receiveData","state","action","payload","addData","newData","findData","find","push","updateDataList","reduce","prev","cur","removeData","index","findIndex","item","some","indexDetail","splice","listAction","actions","NewForm","dispatch","React","useState","setDescription","useRef","onSubmit","event","preventDefault","newId","Date","toISOString","enteredValue","current","value","className","classes","coverBlock","header","ref","required","type","min","onChange","target","button","DeleteButton","props","deleteButton","onClick","window","confirm","sentId","TimelineDetail","receivedDate","convertedDate","day","concat","dateArray","Object","keys","sort","a","b","parseInt","map","timeline","dateClass","time","sortingItem","timeClassCover","timeClass","span","TimelineList","indexItem","setIndexItem","foundIndex","sentDate","dayDate","timeDate","theDate","Intl","DateTimeFormat","format","hour","getHours","getMinutes","toString","patientDetail","data-bs-toggle","data-bs-target","upFont","bellowFont","selectClass","loading","Timeline","coverBorder","Backdrop","backdrop","onClose","OverlayModal","overlay","children","portalElement","document","getElementById","Overlay","ReactDom","createPortal","onCloseCard","Card","CloseCardHandler","container","success","App","useEffect","fetchData","fetch","response","ok","Error","json","data","alert","sendRequest","method","body","JSON","stringify","headers","containerCover","headLine","store","configureStore","reducer","ReactDOM","render"],"mappings":"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","file":"static/js/main.e41b96f7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"card_container__mh2eK\",\"success\":\"card_success__1_emx\",\"deleteButton\":\"card_deleteButton__2wJea\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBlock\":\"App_coverBlock__17ARy\",\"headLine\":\"App_headLine__1xDOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"overlay_backdrop__my1r2\",\"overlay\":\"overlay_overlay__uqVFE\",\"slide-down\":\"overlay_slide-down__3kyW6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBorder\":\"Timeline_coverBorder__35Go8\",\"header\":\"Timeline_header__2GGWD\",\"patientDetail\":\"Timeline_patientDetail__JFXsu\",\"upFont\":\"Timeline_upFont__38puB\",\"bellowFont\":\"Timeline_bellowFont__13bOZ\",\"selectClass\":\"Timeline_selectClass__1kusa\",\"loading\":\"Timeline_loading__3UFCd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"TimelineDetail_timeline__1R6j4\",\"dateClass\":\"TimelineDetail_dateClass__23uyD\",\"detail\":\"TimelineDetail_detail__1-UzC\",\"timeClassCover\":\"TimelineDetail_timeClassCover__2e_e1\",\"timeClass\":\"TimelineDetail_timeClass__1at34\",\"span\":\"TimelineDetail_span__16-0w\",\"deleteButton\":\"TimelineDetail_deleteButton__155Mi\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport { RootState, AppDispatch } from './store';\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport { Item, Items } from \"../modal/items\";\r\n\r\ntype SliceState = Items;\r\n\r\nconst initialState: SliceState = {\r\n  items: [\r\n    {\r\n      id: \"\",\r\n      gender: \"\",\r\n      age: \"\",\r\n      job: \"\",\r\n      detail: [\r\n        {\r\n          id: \"\",\r\n          date: \"\",\r\n          description: \"\",\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  change: false,\r\n  showSuccess: false,\r\n};\r\n\r\nconst listSlice = createSlice({\r\n  name: \"dataStorage\",\r\n  initialState,\r\n  reducers: {\r\n    receiveData(state, action: PayloadAction<Items>) {\r\n      state.items = action.payload.items;\r\n    },\r\n\r\n    addData(state, action: PayloadAction<Item>) {\r\n      const newData = action.payload.items;\r\n      state.change = true;\r\n\r\n      const findData = state.items.find(\r\n        (items) =>\r\n          items.gender === newData.gender &&\r\n          items.age === newData.age &&\r\n          items.job === newData.job\r\n      );\r\n\r\n      if (findData) {\r\n        findData.detail.push({\r\n          id: newData.detail.id,\r\n          date: newData.detail.date,\r\n          description: newData.detail.description,\r\n        });\r\n\r\n        const updateDataList = state.items.reduce<any>(\r\n          (prev, cur) =>\r\n            cur.id === findData.id ? [...prev, findData] : [...prev, cur],\r\n          []\r\n        );\r\n\r\n        state.items = updateDataList;\r\n      } else {\r\n        state.items.push({\r\n          id: newData.id,\r\n          gender: newData.gender,\r\n          age: newData.age,\r\n          job: newData.job,\r\n          detail: [\r\n            {\r\n              id: newData.detail.id,\r\n              date: newData.detail.date,\r\n              description: newData.detail.description,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n    },\r\n\r\n    removeData(state, action: PayloadAction<string>) {\r\n      const index = state.items.findIndex((item) =>\r\n        item.detail.some((item) => item.id === action.payload)\r\n      );\r\n      const indexDetail = state.items[index].detail.findIndex(\r\n        (item) => item.id === action.payload\r\n      );\r\n\r\n      state.items[index].detail.splice(indexDetail, 1);\r\n\r\n      state.change = true;\r\n    },\r\n\r\n    showSuccess(state, action: PayloadAction<string>) {\r\n      state.showSuccess = action.payload === \"true\" ? true : false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const listAction = listSlice.actions;\r\nexport default listSlice;\r\n","import React, { useRef } from \"react\";\r\nimport { Item } from \"../modal/items\";\r\nimport { useAppDispatch } from \"../store/hook\";\r\nimport { listAction } from \"../store/list-slice\";\r\n\r\nimport classes from \"./NewForm.module.css\";\r\n\r\nconst NewForm: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  const gender = useRef<HTMLSelectElement>(null);\r\n  const age = useRef<HTMLInputElement>(null);\r\n  const job = useRef<HTMLInputElement>(null);\r\n  const date = useRef<HTMLInputElement>(null);\r\n\r\n  const descriptionHandler = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setDescription(event.target.value);\r\n  };\r\n\r\n  const submitHandler = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    const newId = new Date().toISOString();\r\n\r\n    const enteredValue: Item = {\r\n      items: {\r\n        id: newId,\r\n        gender: gender.current!.value,\r\n        age: age.current!.value,\r\n        job: job.current!.value,\r\n        detail: {\r\n          id: newId,\r\n          date: date.current!.value,\r\n          description: description,\r\n        },\r\n      },\r\n    };\r\n\r\n    dispatch(listAction.addData(enteredValue));\r\n    dispatch(listAction.showSuccess(\"true\"));\r\n\r\n    date.current!.value = \"\";\r\n    setDescription(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <div className={`container-lg mb-4 p-4 ${classes.coverBlock}`}>\r\n        <h2 className={classes.header}>ข้อมูลผู้ป่วย</h2>\r\n        <div className=\"mb-3 row\">\r\n          <div className=\"col-md-6 col-12\">\r\n            <label className=\"form-label\">เพศ</label>\r\n            <select className=\"form-select\" ref={gender} required>\r\n              <option>ชาย</option>\r\n              <option>หญิง</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6 col-12\">\r\n            <label className=\"form-label\">อายุ</label>\r\n            <input className=\"form-control\" type=\"number\" min=\"1\" ref={age} required />\r\n          </div>\r\n        </div>\r\n        <label className=\"form-label\">อาชีพ</label>\r\n        <input className=\"form-control\" type=\"text\" ref={job} required />\r\n      </div>\r\n      <div className={`container-lg mb-4 p-4 ${classes.coverBlock}`}>\r\n        <h2 className={classes.header}>ข้อมูลไทม์ไลน์</h2>\r\n        <label className=\"form-label\">วันเวลา</label>\r\n        <input className=\"mb-3 form-control\" type=\"datetime-local\" ref={date} required />\r\n        <label className=\"form-label\">รายละเอียด</label>\r\n        <textarea className=\"mb-3 form-control\" value={description} onChange={descriptionHandler} required></textarea>\r\n        <button className={classes.button}>+ เพิ่มข้อมูล</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewForm;\r\n","import { useAppDispatch } from \"../../store/hook\";\r\nimport { listAction } from \"../../store/list-slice\";\r\nimport classes from \"./TimelineDetail.module.css\";\r\n\r\nconst DeleteButton: React.FC<{ sentId: string }> = (props) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const removeDataHandler = () => {\r\n    if (window.confirm(\"Do you want to remove this detail?\")) {\r\n      dispatch(listAction.removeData(props.sentId));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`container-lg m-0 p-0`}>\r\n      <p className={`${classes.deleteButton}`} onClick={removeDataHandler}>\r\n        x\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;\r\n","import { dayType } from \"../../modal/items\";\r\nimport DeleteButton from \"./DeleteButton\";\r\n\r\nimport classes from \"./TimelineDetail.module.css\";\r\n\r\nconst TimelineDetail: React.FC<{ receivedDate: dayType[] }> = (props) => {\r\n  const receivedDate = props.receivedDate;\r\n\r\n  const convertedDate = receivedDate.reduce<any>(\r\n    (prev, cur) => ({\r\n      ...prev,\r\n      [cur.day]: (prev[cur.day] || []).concat(cur),\r\n    }),\r\n    {}\r\n  );\r\n\r\n  const dateArray = Object.keys(convertedDate);\r\n\r\n  return (\r\n    <div className={`container-lg m-0 p-0`}>\r\n      {dateArray\r\n        .sort((a, b) => parseInt(a) - parseInt(b))\r\n        .map((item) => (\r\n          <div key={item} className={`container-lg m-0 p-0`}>\r\n            <div className={`row`}>\r\n              <div\r\n                className={`container-lg col-3 col-sm-2 m-0 p-0 ${classes.timeline}`}\r\n              >\r\n                <p className={`${classes.dateClass}`}>{item}</p>\r\n              </div>\r\n\r\n              <div\r\n                className={`container-lg col-8 col-sm-9 mb-4 p-2 ${classes.detail}`}\r\n              >\r\n                {receivedDate\r\n                  .sort((a, b) => parseInt(a.time) - parseInt(b.time))\r\n                  .map((sortingItem) => (\r\n                    <div\r\n                      key={sortingItem.id}\r\n                      className={`${classes.timeClassCover}`}\r\n                    >\r\n                      {item === sortingItem.day && (\r\n                        <div className={`${classes.timeClass}`}>\r\n                          <p className={`mb-2`}>\r\n                            {sortingItem.time}{\" \"}\r\n                            <span className={`${classes.span}`}>\r\n                              {sortingItem.description}\r\n                            </span>\r\n                          </p>\r\n                          <DeleteButton sentId={sortingItem.id} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineDetail;\r\n","import React, { ChangeEvent } from \"react\";\r\nimport { useAppSelector } from \"../../store/hook\";\r\n\r\nimport { dayType } from \"../../modal/items\";\r\n\r\nimport classes from \"../Timeline.module.css\";\r\nimport TimelineDetail from \"./TimelineDetail\";\r\n\r\nconst TimelineList: React.FC = () => {\r\n  const items = useAppSelector((state) => state.items.items);\r\n\r\n  const [indexItem, setIndexItem] = React.useState(0);\r\n\r\n  let foundIndex: number = 0;\r\n  const selectValueHandler = (event: ChangeEvent<HTMLSelectElement>) => {\r\n    foundIndex = items.findIndex((item) => item.id === event.target.value);\r\n\r\n    setIndexItem(foundIndex);\r\n  };\r\n\r\n  const sentDate: dayType[] = [];\r\n\r\n  items[indexItem].detail.map((detail) => {\r\n    let dayDate: string = \"\";\r\n    let timeDate: string = \"\";\r\n    if (detail.date) {\r\n      const theDate = new Date(detail.date);\r\n      dayDate = new Intl.DateTimeFormat(\"en-GB\").format(theDate);\r\n\r\n      const hour = new Date(theDate).getHours();\r\n      const min = new Date(theDate).getMinutes();\r\n      let updateHour: string = \"\";\r\n      let updateMin: string = \"\";\r\n      if (hour < 10) {\r\n        updateHour = \"0\" + hour;\r\n      } else {\r\n        updateHour = hour.toString();\r\n      }\r\n      if (min < 10) {\r\n        updateMin = \"0\" + min;\r\n      } else {\r\n        updateMin = min.toString();\r\n      }\r\n      timeDate = updateHour + \":\" + updateMin;\r\n    }\r\n\r\n    sentDate.push({\r\n      id: detail.id,\r\n      day: dayDate,\r\n      time: timeDate,\r\n      description: detail.description,\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4 d-flex justify-content-center\">\r\n        {items[0].id ? (\r\n          <div className={`btn ${classes.patientDetail}`}>\r\n            <div data-bs-toggle=\"collapse\" data-bs-target=\"#collapse-content\">\r\n              <p className={`m-0 ${classes.upFont}`}>\r\n                ผู้ป่วย{items[indexItem].gender} อายุ {items[indexItem].age} ปี\r\n              </p>\r\n              <p className={`m-0 ${classes.bellowFont}`}>\r\n                อาชีพ {items[indexItem].job}\r\n              </p>\r\n            </div>\r\n            <select\r\n              id=\"collapse-content\"\r\n              className={`collapse p-1 ${classes.selectClass}`}\r\n              onChange={selectValueHandler}\r\n            >\r\n              {items.map((item) => (\r\n                <option value={item.id} key={item.id}>\r\n                  ผู้ป่วย{item.gender} อายุ {item.age} ปี อาชีพ {item.job}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        ) : (\r\n          <p className={classes.loading}>Loading</p>\r\n        )}\r\n      </div>\r\n      {items[0].id ? <TimelineDetail receivedDate={sentDate} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineList;\r\n","import TimelineList from \"./detail/TimelineList\";\r\n\r\nimport classes from \"./Timeline.module.css\";\r\n\r\nconst Timeline: React.FC = () => {\r\n  return (\r\n    <div className={`container-lg mb-4 py-3 ${classes.coverBorder}`}>\r\n      <div className=\"d-flex justify-content-center\">\r\n        <h1 className={classes.header}>Timeline</h1>\r\n      </div>\r\n      <TimelineList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n","import React, { Fragment } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\n\r\nimport classes from \"./overlay.module.css\";\r\n\r\nconst Backdrop: React.FC <{onClose: () => void}> = (props) => {\r\n    return (\r\n        <div\r\n            className={classes.backdrop}\r\n            onClick={props.onClose} \r\n        />\r\n    );\r\n};\r\n\r\nconst OverlayModal: React.FC <{}> = (props) => {\r\n    return (\r\n        <div className={classes.overlay}>\r\n            <div>{props.children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlay\") as HTMLElement;\r\n\r\nconst Overlay:React.FC<{onCloseCard: () => void}> = (props) => {\r\n    return (\r\n        <Fragment>\r\n            {ReactDom.createPortal(\r\n                <Backdrop onClose={props.onCloseCard} />, portalElement\r\n            )}\r\n            {ReactDom.createPortal(\r\n                <OverlayModal>{props.children}</OverlayModal>, portalElement\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Overlay;","import Overlay from \"../popUpShow.tsx/overlay\";\r\nimport { useAppDispatch } from \"../store/hook\";\r\nimport { listAction } from \"../store/list-slice\";\r\n\r\nimport classes from \"./card.module.css\";\r\n\r\nconst Card: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const CloseCardHandler = () => {\r\n    dispatch(listAction.showSuccess(\"false\"));\r\n  };\r\n\r\n  return (\r\n    <Overlay onCloseCard={CloseCardHandler}>\r\n      <div className={classes.container}>\r\n        <p className={classes.success}>Successfully sent!</p>\r\n        <div className={`container-lg m-0 p-0`}>\r\n          <p className={`${classes.deleteButton}`} onClick={CloseCardHandler}>\r\n            x\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Overlay>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import { useEffect } from \"react\";\n\nimport NewForm from \"./components/NewForm\";\nimport Timeline from \"./components/Timeline\";\nimport Card from \"./components/card\";\n\nimport { useAppDispatch, useAppSelector } from \"./store/hook\";\nimport { fetchListdata, sendListData } from \"./store/list-action\";\n\nimport classes from \"./App.module.css\";\n\nfunction App() {\n  const dispatch = useAppDispatch();\n  const items = useAppSelector(state => state.items);\n\n  useEffect(()=>{\n    dispatch(fetchListdata());\n  }, []);\n\n  useEffect(()=> {\n    if(items.change) {\n      dispatch(sendListData(items));\n    }\n  }, [items, dispatch]);\n\n  return (\n    <div className={classes.coverBlock}>\n      <div className={`container-lg pt-4 ${classes.containerCover}`}>\n        <h1 className={`${classes.headLine}`}>\n          COVID Timeline Generator\n        </h1>\n        <div className=\"row\">\n          <div className=\"col-xl-5 col-lg-5 col-md-4\">\n            <NewForm />\n          </div>\n          <div className=\"col-xl-7 col-lg-7 col-md-8\">\n            <Timeline />\n          </div>\n        </div>\n      </div>\n      {items.showSuccess &&\n        <div>\n        <Card />\n      </div>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import { listAction } from \"./list-slice\";\r\nimport { Items } from '../modal/items';\r\n\r\n// GET method\r\nexport const fetchListdata = () => {\r\n  return async (dispatch: any) => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(\r\n        \"https://covid-timeline-f6472-default-rtdb.firebaseio.com/data.json\"\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not fetch data!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      return data;\r\n    };\r\n\r\n    try {\r\n      const data = await fetchData();\r\n      dispatch(listAction.receiveData(data.data));\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n};\r\n\r\n// PUT method\r\nexport const sendListData = (data: Items) => {\r\n  return async () => {\r\n    const sendRequest = async () => {\r\n      const response = await fetch(\r\n        \"https://covid-timeline-f6472-default-rtdb.firebaseio.com/data.json\",\r\n        {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({\r\n                data: data,\r\n            }),\r\n            headers: {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n          throw new Error ('Could not send data!');\r\n      }\r\n    };\r\n\r\n    try {\r\n        await sendRequest();\r\n    } catch (error) {\r\n        alert (error);\r\n    }\r\n  };\r\n};\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport listSlice from \"./list-slice\";\r\n\r\nconst store = configureStore({ reducer: { items: listSlice.reducer } });\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport default store;\r\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBlock\":\"NewForm_coverBlock__3Wlxu\",\"header\":\"NewForm_header__2I93Q\",\"button\":\"NewForm_button__3hlXK\",\"form-label\":\"NewForm_form-label__vd3SK\"};"],"sourceRoot":""}