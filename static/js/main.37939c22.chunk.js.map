{"version":3,"sources":["App.module.css","components/Timeline.module.css","components/detail/TimelineDetail.module.css","store/hook.ts","store/list-slice.ts","components/NewForm.tsx","components/detail/DeleteButton.tsx","components/detail/TimelineDetail.tsx","components/detail/TimelineList.tsx","components/Timeline.tsx","App.tsx","store/list-action.tsx","store/store.ts","index.tsx","components/NewForm.module.css"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","listSlice","createSlice","name","initialState","items","id","gender","age","job","detail","date","description","change","reducers","receiveData","state","action","payload","addData","newData","findData","find","push","updateDataList","reduce","prev","cur","removeData","index","findIndex","item","some","indexDetail","splice","listAction","actions","NewForm","dispatch","React","useState","setDescription","useRef","onSubmit","event","preventDefault","newId","Date","toISOString","enteredValue","current","value","className","classes","coverBlock","header","ref","required","type","min","onChange","target","button","DeleteButton","props","deleteButton","onClick","window","confirm","sentId","TimelineDetail","receivedDate","convertedDate","day","concat","dateArray","Object","keys","sort","a","b","parseInt","map","timeline","dateClass","time","itemSomething","timeClassCover","timeClass","span","TimelineList","indexItem","setIndexItem","sentDate","dayDate","timeDate","theDate","Intl","DateTimeFormat","format","hour","getHours","getMinutes","toString","patientDetail","data-bs-toggle","data-bs-target","upFont","bellowFont","selectClass","FindIndex","loading","Timeline","coverBorder","App","useEffect","fetchData","fetch","response","ok","Error","json","data","alert","sendRequest","method","body","JSON","stringify","headers","containerCover","headLine","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37939c22.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBlock\":\"App_coverBlock__17ARy\",\"headLine\":\"App_headLine__1xDOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBorder\":\"Timeline_coverBorder__35Go8\",\"header\":\"Timeline_header__2GGWD\",\"patientDetail\":\"Timeline_patientDetail__JFXsu\",\"upFont\":\"Timeline_upFont__38puB\",\"bellowFont\":\"Timeline_bellowFont__13bOZ\",\"selectClass\":\"Timeline_selectClass__1kusa\",\"loading\":\"Timeline_loading__3UFCd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"TimelineDetail_timeline__1R6j4\",\"dateClass\":\"TimelineDetail_dateClass__23uyD\",\"detail\":\"TimelineDetail_detail__1-UzC\",\"timeClassCover\":\"TimelineDetail_timeClassCover__2e_e1\",\"timeClass\":\"TimelineDetail_timeClass__1at34\",\"span\":\"TimelineDetail_span__16-0w\",\"deleteButton\":\"TimelineDetail_deleteButton__155Mi\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport { RootState, AppDispatch } from './store';\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport { Item, Items } from \"../modal/items\";\r\n\r\ntype SliceState = Items;\r\n\r\nconst initialState: SliceState = {\r\n  items: [\r\n    {\r\n      id: \"\",\r\n      gender: \"\",\r\n      age: \"\",\r\n      job: \"\",\r\n      detail: [\r\n        {\r\n          id: \"\",\r\n          date: \"\",\r\n          description: \"\",\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  change: false,\r\n};\r\n\r\nconst listSlice = createSlice({\r\n  name: \"dataStorage\",\r\n  initialState,\r\n  reducers: {\r\n    receiveData(state, action: PayloadAction<Items>) {\r\n      state.items = action.payload.items;\r\n    },\r\n\r\n    addData(state, action: PayloadAction<Item>) {\r\n      const newData = action.payload.items;\r\n      state.change = true;\r\n\r\n      const findData = state.items.find(\r\n        (items) =>\r\n          items.gender === newData.gender &&\r\n          items.age === newData.age &&\r\n          items.job === newData.job\r\n      );\r\n\r\n      if (findData) {\r\n        findData.detail.push({\r\n          id:newData.detail.id,\r\n          date: newData.detail.date,\r\n          description: newData.detail.description,\r\n        });\r\n\r\n        const updateDataList = state.items.reduce<any>(\r\n          (prev, cur) =>\r\n            cur.id === findData.id ? [...prev, findData] : [...prev, cur],\r\n          []\r\n        );\r\n\r\n        state.items = updateDataList;\r\n      } else {\r\n        state.items.push({\r\n            id: newData.id,\r\n            gender: newData.gender,\r\n            age: newData.age,\r\n            job: newData.job,\r\n            detail: [\r\n              {\r\n                id:newData.detail.id,\r\n                date: newData.detail.date,\r\n                description: newData.detail.description,\r\n              },\r\n            ],\r\n          });\r\n      }\r\n    },\r\n\r\n    removeData(state, action: PayloadAction<string>) {\r\n      const index = state.items.findIndex(item => item.detail.some(item => item.id === action.payload));\r\n      const indexDetail = state.items[index].detail.findIndex(item => item.id === action.payload);\r\n      state.items[index].detail.splice(indexDetail,1);\r\n      state.change = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport const listAction = listSlice.actions;\r\nexport default listSlice;\r\n","import React, { useRef } from \"react\";\r\nimport { Item } from \"../modal/items\";\r\nimport { useAppDispatch } from \"../store/hook\";\r\nimport { listAction } from \"../store/list-slice\";\r\n\r\nimport classes from \"./NewForm.module.css\";\r\n\r\nconst NewForm: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  const gender = useRef<HTMLSelectElement>(null);\r\n  const age = useRef<HTMLInputElement>(null);\r\n  const job = useRef<HTMLInputElement>(null);\r\n  const date = useRef<HTMLInputElement>(null);\r\n\r\n  const descriptionHandler = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setDescription(event.target.value);\r\n  };\r\n\r\n  const submitHandler = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    const newId = new Date().toISOString();\r\n\r\n    const enteredValue: Item = {\r\n      items: {\r\n        id: newId,\r\n        gender: gender.current!.value,\r\n        age: age.current!.value,\r\n        job: job.current!.value,\r\n        detail: {\r\n          id: newId,\r\n          date: date.current!.value,\r\n          description: description,\r\n        },\r\n      },\r\n    };\r\n\r\n    dispatch(listAction.addData(enteredValue));\r\n\r\n    date.current!.value = \"\";\r\n    setDescription(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <div className={`container-lg mb-4 p-4 ${classes.coverBlock}`}>\r\n        <h2 className={classes.header}>ข้อมูลผู้ป่วย</h2>\r\n        <div className=\"mb-3 row\">\r\n          <div className=\"col-md-6 col-12\">\r\n            <label className=\"form-label\">เพศ</label>\r\n            <select className=\"form-select\" ref={gender} required>\r\n              <option>ชาย</option>\r\n              <option>หญิง</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-6 col-12\">\r\n            <label className=\"form-label\">อายุ</label>\r\n            <input className=\"form-control\" type=\"number\" min=\"1\" ref={age} required />\r\n          </div>\r\n        </div>\r\n        <label className=\"form-label\">อาชีพ</label>\r\n        <input className=\"form-control\" type=\"text\" ref={job} required />\r\n      </div>\r\n      <div className={`container-lg mb-4 p-4 ${classes.coverBlock}`}>\r\n        <h2 className={classes.header}>ข้อมูลไทม์ไลน์</h2>\r\n        <label className=\"form-label\">วันเวลา</label>\r\n        <input className=\"mb-3 form-control\" type=\"datetime-local\" ref={date} required />\r\n        <label className=\"form-label\">รายละเอียด</label>\r\n        <textarea className=\"mb-3 form-control\" value={description} onChange={descriptionHandler} required></textarea>\r\n        <button className={classes.button}>+ เพิ่มข้อมูล</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewForm;\r\n","import { useAppDispatch } from \"../../store/hook\";\r\nimport { listAction } from \"../../store/list-slice\";\r\nimport classes from \"./TimelineDetail.module.css\";\r\n\r\nconst DeleteButton: React.FC<{ sentId: string }> = (props) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const removeDataHandler = () => {\r\n    if (window.confirm(\"Do you want to remove this detail?\")) {\r\n      dispatch(listAction.removeData(props.sentId));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`container-lg m-0 p-0`}>\r\n      <p className={`${classes.deleteButton}`} onClick={removeDataHandler}>\r\n        x\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteButton;\r\n","import { dayType } from \"../../modal/items\";\r\nimport DeleteButton from './DeleteButton';\r\n\r\nimport classes from \"./TimelineDetail.module.css\";\r\n\r\nconst TimelineDetail: React.FC<{ receivedDate: dayType[]; }> = (props) => {\r\n  const receivedDate = props.receivedDate;\r\n\r\n  const convertedDate = receivedDate.reduce<any>(\r\n    (prev, cur) => ({\r\n      ...prev,\r\n      [cur.day]: (prev[cur.day] || []).concat(cur),\r\n    }),\r\n    {}\r\n  );\r\n\r\n  const dateArray = Object.keys(convertedDate);\r\n\r\n  return (\r\n    <div className={`container-lg m-0 p-0`}>\r\n      {dateArray.sort((a,b) => (parseInt(a) - parseInt(b))).map((item) => (\r\n        <div key={item} className={`container-lg m-0 p-0`}>\r\n          <div className={`row`}>\r\n            <div className={`container-lg col-3 col-sm-2 m-0 p-0 ${classes.timeline}`}>\r\n              <p className={`${classes.dateClass}`}>{item}</p>\r\n            </div>\r\n\r\n            <div className={`container-lg col-8 col-sm-9 mb-4 p-2 ${classes.detail}`}>\r\n              {receivedDate.sort((a,b) => (parseInt(a.time) - parseInt(b.time))).map((itemSomething) => (\r\n                <div key={itemSomething.id} className={`${classes.timeClassCover}`}>\r\n                  {item === itemSomething.day && (\r\n                    <div className={`${classes.timeClass}`}>\r\n                      <p className={`mb-2`}>\r\n                        {itemSomething.time}{\" \"}\r\n                        <span className={`${classes.span}`}>\r\n                          {itemSomething.description}\r\n                        </span>\r\n                      </p>\r\n                      <DeleteButton sentId={itemSomething.id}/>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineDetail;\r\n","import React, { ChangeEvent } from \"react\";\r\nimport { useAppSelector } from \"../../store/hook\";\r\n\r\nimport { dayType } from \"../../modal/items\";\r\n\r\nimport classes from \"../Timeline.module.css\";\r\nimport TimelineDetail from \"./TimelineDetail\";\r\n\r\nconst TimelineList: React.FC = () => {\r\n  const items = useAppSelector((state) => state.items.items);\r\n\r\n  const [indexItem, setIndexItem] = React.useState(0);\r\n\r\n  const selectValueHandler = (event: ChangeEvent<HTMLSelectElement>) => {\r\n    const FindIndex = items.findIndex((item) => item.id === event.target.value);\r\n    setIndexItem(FindIndex);\r\n  };\r\n\r\n  const sentDate: dayType[] = [];\r\n  items[indexItem].detail.map((detail) => {\r\n    let dayDate: string = \"\";\r\n    let timeDate: string = \"\";\r\n    if (detail.date) {\r\n      const theDate = new Date(detail.date);\r\n      dayDate = new Intl.DateTimeFormat(\"en-GB\").format(theDate);\r\n\r\n      const hour = new Date(theDate).getHours();\r\n      const min = new Date(theDate).getMinutes();\r\n      let updateHour: string = \"\";\r\n      let updateMin: string = \"\";\r\n      if (hour < 10) {\r\n        updateHour = \"0\" + hour;\r\n      } else {\r\n        updateHour = hour.toString();\r\n      }\r\n      if (min < 10) {\r\n        updateMin = \"0\" + min;\r\n      } else {\r\n        updateMin = min.toString();\r\n      }\r\n      timeDate = updateHour + \":\" + updateMin;\r\n    }\r\n\r\n    sentDate.push({\r\n      id: detail.id,\r\n      day: dayDate,\r\n      time: timeDate,\r\n      description: detail.description,\r\n    });\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4 d-flex justify-content-center\">\r\n        {items[0].id ? (\r\n          <div className={`btn ${classes.patientDetail}`}>\r\n            <div data-bs-toggle=\"collapse\" data-bs-target=\"#collapse-content\">\r\n              <p className={`m-0 ${classes.upFont}`}>\r\n                ผู้ป่วย{items[indexItem].gender} อายุ {items[indexItem].age} ปี\r\n              </p>\r\n              <p className={`m-0 ${classes.bellowFont}`}>\r\n                อาชีพ {items[indexItem].job}\r\n              </p>\r\n            </div>\r\n            <select\r\n              id=\"collapse-content\"\r\n              className={`collapse p-1 ${classes.selectClass}`}\r\n              onChange={selectValueHandler}\r\n            >\r\n              {items.map((item) => (\r\n                <option value={item.id} key={item.id}>\r\n                  ผู้ป่วย{item.gender} อายุ {item.age} ปี อาชีพ {item.job}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        ) : (\r\n          <p className={classes.loading}>Loading</p>\r\n        )}\r\n      </div>\r\n      {items[0].id ? \r\n      <TimelineDetail receivedDate={sentDate} />\r\n      : null }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineList;\r\n","import TimelineList from \"./detail/TimelineList\";\r\n\r\nimport classes from \"./Timeline.module.css\";\r\n\r\nconst Timeline: React.FC = () => {\r\n  \r\n  return (\r\n    <div className={`container-lg mb-4 py-3 ${classes.coverBorder}`}>\r\n      <div className=\"d-flex justify-content-center\">\r\n        <h1 className={classes.header}>Timeline</h1>\r\n      </div>\r\n      <TimelineList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timeline;\r\n","import { useEffect } from \"react\";\n\nimport NewForm from \"./components/NewForm\";\nimport Timeline from \"./components/Timeline\";\n\nimport { useAppDispatch, useAppSelector } from \"./store/hook\";\nimport { fetchListdata, sendListData } from \"./store/list-action\";\n\nimport classes from \"./App.module.css\";\n\nfunction App() {\n  const dispatch = useAppDispatch();\n  const items = useAppSelector(state => state.items);\n\n  useEffect(()=>{\n    dispatch(fetchListdata());\n  }, []);\n\n  useEffect(()=> {\n    if(items.change) {\n      dispatch(sendListData(items));\n    }\n  }, [items, dispatch]);\n\n  return (\n    <div className={classes.coverBlock}>\n      <div className={`container-lg pt-4 ${classes.containerCover}`}>\n        <h1 className={`${classes.headLine}`}>\n          COVID Timeline Generator\n        </h1>\n        <div className=\"row\">\n          <div className=\"col-xl-5 col-lg-5 col-md-4\">\n            <NewForm />\n          </div>\n          <div className=\"col-xl-7 col-lg-7 col-md-8\">\n            <Timeline />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { listAction } from \"./list-slice\";\r\nimport { Items } from '../modal/items';\r\n\r\n// GET method\r\nexport const fetchListdata = () => {\r\n  return async (dispatch: any) => {\r\n    const fetchData = async () => {\r\n      const response = await fetch(\r\n        \"https://covid-timeline-f6472-default-rtdb.firebaseio.com/data.json\"\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Could not fetch data!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      return data;\r\n    };\r\n\r\n    try {\r\n      const data = await fetchData();\r\n      dispatch(listAction.receiveData(data.data));\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n};\r\n\r\n// PUT method\r\nexport const sendListData = (data: Items) => {\r\n  return async () => {\r\n    const sendRequest = async () => {\r\n      const response = await fetch(\r\n        \"https://covid-timeline-f6472-default-rtdb.firebaseio.com/data.json\",\r\n        {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({\r\n                data: data,\r\n            }),\r\n            headers: {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n          throw new Error ('Could not send data!');\r\n      }\r\n    };\r\n\r\n    try {\r\n        await sendRequest();\r\n    } catch (error) {\r\n        alert (error);\r\n    }\r\n  };\r\n};\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport listSlice from \"./list-slice\";\r\n\r\nconst store = configureStore({ reducer: { items: listSlice.reducer } });\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport default store;\r\n","import ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coverBlock\":\"NewForm_coverBlock__3Wlxu\",\"header\":\"NewForm_header__2I93Q\",\"button\":\"NewForm_button__3hlXK\",\"form-label\":\"NewForm_form-label__vd3SK\"};"],"sourceRoot":""}